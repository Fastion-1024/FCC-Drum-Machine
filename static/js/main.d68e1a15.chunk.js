(this["webpackJsonpfcc-drum-machine"]=this["webpackJsonpfcc-drum-machine"]||[]).push([[0],[,,,,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var c=t(1),n=t.n(c),r=t(6),s=t.n(r),o=t(2),u=(t(7),function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(c.useState)(e),n=Object(o.a)(t,2),r=n[0],s=n[1],u=Object(c.useCallback)((function(){s((function(t){return t===e?a:e}))}),[]);return[r,u]}),m=function(e,a){var t=Object(c.useState)((function(){var t=localStorage.getItem(e);return t?JSON.parse(t):a})),n=Object(o.a)(t,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){r&&localStorage.setItem(e,JSON.stringify(r))}),[r]),[r,s]},d=[{value:"Q",code:"KeyQ"},{value:"W",code:"KeyW"},{value:"E",code:"KeyE"},{value:"A",code:"KeyA"},{value:"S",code:"KeyS"},{value:"D",code:"KeyD"},{value:"Z",code:"KeyZ"},{value:"X",code:"KeyX"},{value:"C",code:"KeyC"}],i={name:"Bank 1",bank:[{name:"Heater-1",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"},{name:"Heater-2",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"},{name:"Heater-3",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"},{name:"Heater-4",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"},{name:"Clap",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3"},{name:"Open-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3"},{name:"Kick-n'Hat",url:"https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"},{name:"Kick",url:"https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"},{name:"Closed-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3"}]},l={name:"Bank 2",bank:[{name:"Chord-1",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"},{name:"Chord-2",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"},{name:"Chord-3",url:"https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"},{name:"Shaker",url:"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"},{name:"Open-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3"},{name:"Closed-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3"},{name:"Punchy-Kick",url:"https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3"},{name:"Side-Stick",url:"https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3"},{name:"Snare",url:"https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3"}]},p=t(0),b=n.a.createContext(),j=function(){return Object(c.useContext)(b)},f=function(e){var a=e.children,t=m("keybinds",d),n=Object(o.a)(t,2),r=n[0],s=(n[1],u(i,l)),j=Object(o.a)(s,2),f=j[0],v=j[1],h=u(!1,!0),O=Object(o.a)(h,2),k=O[0],x=O[1],y=Object(c.useState)(""),w=Object(o.a)(y,2),g=w[0],N=w[1],C=Object(c.useState)(50),H=Object(o.a)(C,2),_=H[0],B=H[1],z=Object(c.useRef)(null);return Object(p.jsx)(b.Provider,{value:{buttons:r,activeBank:f,toggleActiveBank:v,power:k,togglePower:x,display:g,volume:_,setVolume:B,updateDisplay:function e(a){z&&z.current&&(clearTimeout(z.current),z.current=null),N(a),z.current=setTimeout((function(){e("")}),3e3)}},children:a})},v=function(){var e=Object(c.useRef)();return Object(c.useEffect)((function(){return e&&e.current&&(console.log("FIRED 1"),e.current.style.setProperty("--value",e.current.value),e.current.style.setProperty("--min",""==e.current.min?"0":e.current.min),e.current.style.setProperty("--max",""==e.current.max?"100":e.current.max),e.current.addEventListener("input",(function(){console.log("FIRED 2"),e.current.style.setProperty("--value",e.current.value)}))),function(){e.current.removeEventListener("input",(function(){console.log("FIRED 2"),e.current.style.setProperty("--value",e.current.value)}))}}),[e]),[e]},h=(t(13),t(14),function(e){var a=e.value,t=e.disabled,c=a/10,n=function(e){return t?"volume-indicator disabled":"".concat(e<c?"volume-indicator active":"volume-indicator")};return Object(p.jsxs)("div",{id:"volume",children:[Object(p.jsx)("span",{className:n(0)}),Object(p.jsx)("span",{className:n(1)}),Object(p.jsx)("span",{className:n(2)}),Object(p.jsx)("span",{className:n(3)}),Object(p.jsx)("span",{className:n(4)}),Object(p.jsx)("span",{className:n(5)}),Object(p.jsx)("span",{className:n(6)}),Object(p.jsx)("span",{className:n(7)}),Object(p.jsx)("span",{className:n(8)}),Object(p.jsx)("span",{className:n(9)})]})}),O=function(e){var a=e.disabled,t=e.activeBankName,c=function(e){return a?"bank-indicator disabled":"".concat(t===e?"bank-indicator active":"bank-indicator")};return Object(p.jsxs)("div",{id:"toggle-display-container",children:[Object(p.jsx)("h4",{className:c("Bank 1"),children:"Bank1"}),Object(p.jsx)("h4",{className:c("Bank 2"),children:"Bank2"})]})},k=function(){var e=j(),a=e.display,t=e.volume,c=e.power,n=e.activeBank;return Object(p.jsxs)("div",{id:"display-container",children:[Object(p.jsx)(h,{value:t,disabled:!c}),Object(p.jsx)(O,{disabled:!c,activeBankName:n.name}),Object(p.jsx)("h2",{id:"display",children:a})]})},x=(t(15),function(e){var a=e.value,t=e.keybind,n=e.audioName,r=e.audioSource,s=e.disabled,o=e.volume,u=e.updateDisplay,m=Object(c.useRef)(null),d=Object(c.useRef)(!1),i=function(){m&&(m.current.volume=o/100,m.current.currentTime=0,m.current.play())},l=function(e){e.code!==t||s||(e.preventDefault(),i(),u(n))};Object(c.useEffect)((function(){return document.addEventListener("keydown",l),function(){document.removeEventListener("keydown",l)}}),[o,s]);return Object(p.jsxs)("button",{id:n,className:d.current?"".concat(s?"drum-pad off":"drum-pad on"," "):(d.current=!0,"drum-pad disabled"),onClick:function(){i(),u(n)},disabled:s,children:[Object(p.jsx)("audio",{id:a,className:"clip",preload:"auto",src:r,ref:m}),a]})}),y=(t(16),function(){var e=j(),a=e.buttons,t=e.activeBank,c=e.power,n=e.volume,r=e.updateDisplay;return Object(p.jsx)("div",{className:"drum-pad-container",children:a.map((function(e,a){return Object(p.jsx)(x,{value:e.value,keybind:e.code,audioSource:t.bank[a].url,audioName:t.bank[a].name,updateDisplay:r,disabled:!c,volume:n},a)}))})}),w=(t(17),function(e){var a=e.id,t=e.name,c=e.checked,n=e.onChange,r=e.disabled,s=void 0!==r&&r;return Object(p.jsxs)("div",{id:a,className:"toggle-button-container",children:[Object(p.jsx)("label",{className:"switch-label",htmlFor:"".concat(a,"-checkbox"),children:t}),Object(p.jsxs)("label",{className:"switch",disabled:s,children:[Object(p.jsx)("input",{id:"".concat(a,"-checkbox"),type:"checkbox",checked:c,onChange:n,disabled:s}),Object(p.jsx)("span",{className:"slider"})]})]})}),g=(t(18),function(){var e=j(),a=e.power,t=e.togglePower,c=e.activeBank,n=e.toggleActiveBank,r=e.volume,s=e.setVolume,u=e.updateDisplay,m=v(),d=Object(o.a)(m,1)[0];return Object(p.jsxs)("section",{id:"drum-machine",children:[Object(p.jsx)(k,{}),Object(p.jsx)(w,{id:"power",name:"Power",checked:a,onChange:function(){t(),u(a?"Goodbye":"Hello")}}),Object(p.jsx)(w,{id:"bank",name:"Bank",checked:"Bank 2"===c.name,onChange:n,disabled:!a}),Object(p.jsx)("input",{className:"volume-slider styled-slider slider-progress",type:"range",min:0,max:100,step:10,value:r,onChange:function(e){return s(e.target.value)},disabled:!a,ref:d}),Object(p.jsx)(y,{})]})});t(19);var N=function(){return Object(p.jsx)("main",{children:Object(p.jsx)(g,{})})};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(f,{children:Object(p.jsx)(N,{})})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.d68e1a15.chunk.js.map